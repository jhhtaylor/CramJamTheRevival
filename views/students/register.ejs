<% layout('layouts/boilerplate') -%>
  <div class="container">
    <div class="row py-5 mt-4">
      <div class="col-md-5 pr-lg-5 mb-5 mb-md-0 align-items-center">
        <h1>Create an Account</h1>
        <img src="assets/happy_students.jpg" alt="" class="img-fluid mb-2 d-none d-md-block">
      </div>

      <!-- Registeration Form -->
      <div class="col-md-7 col-lg-6 ml-auto">
        <form action="/students/register" method="POST" class="needs-validation" novalidate>
          <div class="row">
            <h5>Profile</h5>
            <!-- username -->
            <div class="input-group col-lg-6 mb-4">
              <div class="input-group-prepend">
                <span class="input-group-text bg-white px-4 border-md border-right-0">
                  <i class="fa fa-user py-2 mb-1 text-muted"></i>
                </span>
              </div>
              <input id="userName" 
                     type="text" 
                     name="username" 
                     placeholder="Username"
                     pattern="[A-Za-z0-9]+"
                     title="Usernames may only contain digits, uppercase and lowercase letters."
                     class="form-control bg-white border-left-0 border-md" 
                     required>
                <div class="valid-feedback">    
                  Valid Username    
                </div>
                <div class="invalid-feedback" id="usernameFeedback">       
                  Invalid Username/Username Taken
                </div>
            </div>

            <!-- First Name -->
            <div class="input-group col-lg-6 mb-4">
              <div class="input-group-prepend">
                <span class="input-group-text bg-white px-4 border-md border-right-0">
                  <i class="fa fa-user py-2 mb-1 text-muted"></i>
                </span>
              </div>
              <input id="firstName" type="text" name="firstName" placeholder="First Name"
                class="form-control bg-white border-left-0 border-md" required>
            </div>

            <!-- Last Name -->
            <div class="input-group col-lg-6 mb-4">
              <div class="input-group-prepend">
                <span class="input-group-text bg-white px-4 border-md border-right-0">
                  <i class="fa fa-user py-2 mb-1 text-muted"></i>
                </span>
              </div>
              <input id="lastName" type="text" name="lastName" placeholder="Last Name"
                class="form-control bg-white border-left-0 border-md" required>
                <div class="invalid-feedback">    
                  Please Provide a Last Name   
                </div>
            </div>

            <!-- Email Address -->
            <div class="input-group col-lg-12 mb-4">
              <div class="input-group-prepend">
                <span class="input-group-text bg-white px-4 border-md border-right-0">
                  <i class="fa fa-envelope py-2 mb-1 text-muted"></i>
                </span>
              </div>
              <input id="email" type="email" name="email" placeholder="Email Address"
                class="form-control bg-white border-left-0 border-md" required>
                <div class="valid-feedback">    
                  Valid Email    
                </div>
                <div class="invalid-feedback" id="emailFeedback">  
                  Invalid Email/Email Taken       
                </div>
            </div>

            <!-- Phone Number -->
            <div class="input-group col-lg-12 mb-4">
              <div class="input-group-prepend">
                <span class="input-group-text bg-white px-4 border-md border-right-0">
                  <i class="fa fa-phone-square py-2 mb-1 text-muted"></i>
                </span>
              </div>
              <select id="countryCode" name="countryCode" style="max-width: 80px"
                class="custom-select form-control bg-white border-left-0 border-md h-100 font-weight-bold text-muted">
                <option value="">+27</option>
              </select>
              <input id="phoneNumber" type="tel" name="phone" placeholder="Phone Number"
                class="form-control bg-white border-md border-left-0 pl-3">
            </div>

            <!-- Password -->
            <div class="input-group col-lg-12 mb-4">
              <div class="input-group-prepend">
                <span class="input-group-text bg-white px-4 border-md border-right-0">
                  <i class="fa fa-lock py-2 mb-1 text-muted"></i>
                </span>
              </div>
              <input 
                id="password" 
                type="password" 
                name="password" 
                placeholder="Password" 
                class="form-control bg-white border-left-0 border-md" 
                required>
                <div class="invalid-feedback">    
                  Please Provide a Password    
                </div>
            </div>

            <!-- Password Confirmation -->
            <div class="input-group col-lg-6 mb-4">
              <div class="input-group-prepend">
                <span class="input-group-text bg-white px-4 border-md border-right-0">
                  <i class="fa fa-lock py-2 mb-1 text-muted"></i>
                </span>
              </div>
              <input id="passwordConfirmation" type="password" name="passwordConfirmation"
                placeholder="Confirm Password" class="form-control bg-white border-left-0 border-md is-invalid" required>
              <div class="invalid-feedback" id="passwordFeedback">    
                Passwords Must Match     
              </div>
        
            </div>

            <h5>Address <span class="text-muted">(Optional)</span></h5>

            <div class="input-group col-lg-6 mb-4">
              <div class="input-group-prepend">
                <span class="input-group-text bg-white px-4 border-md border-right-0">
                  <i class="fa fa-home py-2 mb-1 text-muted"></i>
                </span>
              </div>
              <input id="address1" type="text" name="addressLine" placeholder="Address Line"
                class="form-control bg-white border-left-0 border-md">
            </div>

            <div class="input-group col-lg-6 mb-4">
              <div class="input-group-prepend">
                <span class="input-group-text bg-white px-4 border-md border-right-0">
                  <i class="fa fa-home py-2 mb-1 text-muted"></i>
                </span>
              </div>
              <input id="suburb" type="text" name="suburb" placeholder="Suburb"
                class="form-control bg-white border-left-0 border-md">
            </div>

            <div class="input-group col-lg-6 mb-4">
              <div class="input-group-prepend">
                <span class="input-group-text bg-white px-4 border-md border-right-0">
                  <i class="fa fa-home py-2 mb-1 text-muted"></i>
                </span>
              </div>
              <input id="City" type="text" name="city" placeholder="City/Town"
                class="form-control bg-white border-left-0 border-md">
            </div>

            <div class="input-group col-lg-6 mb-4">
              <div class="input-group-prepend">
                <span class="input-group-text bg-white px-4 border-md border-right-0">
                  <i class="fa fa-home py-2 mb-1 text-muted"></i>
                </span>
              </div>
              <select id="countryCode" name="countryCode"
                class="custom-select form-control bg-white border-left-0 border-md text-muted">
                <option value="">Province..</option>
                <option value="">Eastern Cape</option>
                <option value="">Free State</option>
                <option value="">Gauteng</option>
                <option value="">KwaZulu-Natal</option>
                <option value="">Limpopo</option>
                <option value="">Mpumalanga</option>
                <option value="">Northern Cape</option>
                <option value="">North West</option>
                <option value="">Western Cape</option>
              </select>

            </div>

            <!-- Submit Button -->
            <div class="form-group col-lg-12 mx-auto mb-2 d-grid">
              <button id="registerBtn" class="btn btn-primary btn-block py-2 mb-1 " type="submit">
                <span class="font-weight-bold">Create your account</span>
              </button>
            </div>

            <!-- Divider Text -->
            <div class="form-group col-lg-12 mx-auto d-flex align-items-center my-4">
              <div class="border-bottom w-100 ml-5"></div>
              <span class="px-2 small text-muted font-weight-bold text-muted">OR</span>
              <div class="border-bottom w-100 mr-5"></div>
            </div>
            <!-- Already Registered -->
            <div class="text-center w-100">
              <p class="text-muted font-weight-bold">Already Registered? <a href="/students/login"
                  class="text-primary ml-2">Login</a></p>
            </div>

          </div>
        </form>
      </div>
    </div>
  </div>
  <script>
    const allStudents = <%- JSON.stringify(allStudents) %>
  </script>
  <script src="/js/validate.js"></script>
  <script src="/js/confirmEmail.js"></script>
  <script src="/js/confirmPassword.js"></script>